{"version":3,"sources":["webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/main.js","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-complete/order-complete.vue?75eb","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-complete/order-complete.vue?e8df","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-complete/order-complete.vue?2cd4","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-complete/order-complete.vue?424a","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-complete/order-complete.vue"],"names":["createPage","Page","components","orderDetailShop","uploadImage","data","shopName","shopLocation","disable","orderId","form","positiveItemPhoto","positiveItemDesc","backItemPhoto","backItemDesc","sideItemPhoto","sideItemDesc","problemPhoto","problemDesc","itemPhoto","itemDesc","repairPhoto","repairDesc","onLoad","param","console","log","locationText","methods","submitClickHandle","e","pass","checkFormData","submitRequest","that","$login","checkTokenValidity","then","res","$api","apiPost","url","$msg","showMessage","msg","order","$websocket","sendData","id","orderStep","notifyCustomerId","customerId","toOrderDetail","orderNo","shopId","catch","disabled","uploadText","position","detail","value","path","uni","redirectTo"],"mappings":"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","file":"pages/order/order-complete/order-complete.js","sourcesContent":["import 'uni-pages';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/order-complete/order-complete.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./order-complete.vue?vue&type=template&id=7b0db036&\"\nimport script from \"./order-complete.vue?vue&type=script&lang=js&\"\nexport * from \"./order-complete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\0二上\\\\html\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7b0db036', component.options)\n    } else {\n      api.reload('7b0db036', component.options)\n    }\n    module.hot.accept(\"./order-complete.vue?vue&type=template&id=7b0db036&\", function () {\n      api.rerender('7b0db036', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-complete/order-complete.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-complete.vue?vue&type=template&id=7b0db036&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-complete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-complete.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport orderDetailShop from '@/components/order-detail-shop/order-detail-shop.vue';\nimport uploadImage from \"@/components/upload-image/upload-image.vue\";\nexport default {\n\tcomponents: {\n\t\torderDetailShop,\n\t\tuploadImage\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshopName: '-',\n\t\t\tshopLocation: '-',\n\t\t\tdisable: false,\n\t\t\torderId: 0,\n\t\t\tform: {\n\t\t\t\tpositiveItemPhoto: '',\n\t\t\t\tpositiveItemDesc: '',\n\t\t\t\tbackItemPhoto: '',\n\t\t\t\tbackItemDesc: '',\n\t\t\t\tsideItemPhoto: '',\n\t\t\t\tsideItemDesc: '',\n\t\t\t\tproblemPhoto: '',\n\t\t\t\tproblemDesc: '',\n\t\t\t\titemPhoto: '',\n\t\t\t\titemDesc: '',\n\t\t\t\trepairPhoto: '',\n\t\t\t\trepairDesc: '',\n\t\t\t}\n\t\t}\n\t},\n\tonLoad(param) {\n\t\tconsole.log('onLoad(param)...', param)\n\t\tthis.shopLocation = param.locationText;\n\t\tthis.shopName = param.shopName;\n\t\tthis.orderId = param.orderId;\n\t},\n\tmethods: {\n\t\t// 提交留存按钮的方法\n\t\tsubmitClickHandle(e) {\n\t\t\tconsole.log(\"submitClickHandle...\", this.disable)\n\t\t\tif (this.disable) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.disable = true;\n\t\t\tlet form = this.form;\n\t\t\tconsole.log(\"submitClickHandle...form...\", form)\n\t\t\tlet pass = this.checkFormData(form);\n\t\t\tif (!pass) {\n\t\t\t\tthis.disable = false;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tconsole.log(\"submitClickHandle...checkFormData...\", pass)\n\t\t\t// this.disable = false;\n\t\t\tform.orderId = this.orderId;\n\t\t\tthis.submitRequest(this.orderId,form);\n\t\t},\n\t\t// \t提交请求\n\t\tsubmitRequest(orderId,form){\n\t\t\tvar that = this;\n\t\t\tthat.$login.checkTokenValidity().then((res) => {\n\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\turl: `/api/order/${orderId}/repair/complete`,\n\t\t\t\t\tdata: form\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tconsole.log('请求ok！', res)\n\t\t\t\t\tthat.$msg.showMessage(res.data.msg || \"维修数据留存成功\")\n\t\t\t\t\t// that.disabled = false;\n\t\t\t\t\tlet order = res.data.data;\n\t\t\t\t\tthat.$websocket.sendData({\n\t\t\t\t\t\torderId: order.id,\n\t\t\t\t\t\torderStep: order.orderStep,\n\t\t\t\t\t\t// notifyShopId:order.shopId,\n\t\t\t\t\t\tnotifyCustomerId: order.customerId\n\t\t\t\t\t})\n\t\t\t\t\tthat.toOrderDetail(order.id,order.orderNo,order.orderStep,order.shopId)\n\t\t\t\t}).catch((res) => {\n\t\t\t\t\tconsole.log('请求fail！', res)\n\t\t\t\t\tthat.$msg.showMessage(res.data.msg || \"请求失败！\")\n\t\t\t\t\tthat.disabled = false;\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 上传组件-文字的输入的监听\n\t\tuploadText(e, position) {\n\t\t\tconsole.log('uploadText', e, position)\n\t\t\tposition += 'Desc';\n\t\t\tthis.form[position] = e.detail.value\n\t\t},\n\t\t// 上传组件-图片地址的监听\n\t\tuploadImage(e, position) {\n\t\t\tconsole.log('uploadImage', e, position)\n\t\t\tposition += 'Photo';\n\t\t\tthis.form[position] = e[0]\n\t\t},\n\t\t// 检查数据格式\n\t\tcheckFormData(data) {\n\t\t\tconsole.log('checkFormData...')\n\t\t\tif (!data.positiveItemPhoto || !data.positiveItemDesc) {\n\t\t\t\tthis.$msg.showMessage(\"正面图片或者正面问题描述不能为空\")\n\t\t\t\treturn false;\n\t\t\t} else if (!data.backItemPhoto || !data.backItemDesc) {\n\t\t\t\tthis.$msg.showMessage(\"背面图片或者背面问题描述不能为空\")\n\t\t\t\treturn false;\n\t\t\t} else if (!data.sideItemPhoto || !data.sideItemDesc) {\n\t\t\t\tthis.$msg.showMessage(\"侧面图片或者侧面问题描述不能为空\")\n\t\t\t\treturn false;\n\t\t\t} else if (!data.problemPhoto || !data.problemDesc) {\n\t\t\t\tthis.$msg.showMessage(\"故障面图片或者故障问题描述不能为空\")\n\t\t\t\treturn false;\n\t\t\t} else if (!data.repairPhoto || !data.repairDesc) {\n\t\t\t\tthis.$msg.showMessage(\"修复面图片或者修复问题描述不能为空\")\n\t\t\t\treturn false;\n\t\t\t} else if (!data.itemPhoto || !data.itemDesc) {\n\t\t\t\tthis.$msg.showMessage(\"整表图片或者整表问题描述不能为空\")\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\ttoOrderDetail (orderId, orderNo, orderStep, shopId) {\n\t\t\tconsole.log('toOrderDetail...')\n\t\t\tlet path = `/pages/order/order-info/order-info?`;\n\t\t\tpath += `orderId=${orderId}&shopId=${shopId}&orderNo=${orderNo}&orderStep=${orderStep}`\n\t\t\tuni.redirectTo({\n\t\t\t\turl: path\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}