{"version":3,"sources":["webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/main.js","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue?feb8","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue?148e","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue?68c8","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue?ff0c","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue?800e","webpack:///F:/爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue?672a"],"names":["createPage","Page","components","uniSteps","imageText","tkiQrcode","data","shop","id","name","locationText","order","orderId","orderNo","orderStep","orderStepText","timelines","showCtrl","default","appointment","orderDetail","appointmentAccept","appointmentCancel","appointmentDispose","orderQR","repairComplete","navigateHome","scanCodeTakeWatch","submitRating","timelinesData","QR","defaultVal","size","unit","background","foreground","pdground","icon","iconsize","lv","onval","loadMake","src","onLoad","param","console","log","shopId","initPageData","onShow","$websocket","addHandle","orderSocketHandle","onPullDownRefresh","setTimeout","uni","stopPullDownRefresh","methods","that","loadShopData","$login","checkTokenValidity","then","res","loadOrderInfo","loadOrderSteps","initPageShow","hideActionBtn","isMaster","$userInfo","isMasterOrShopOwner","showAppointmentForm","showDefaultForm","$api","get","url","catch","apiGet","$dict","getValue","watchBrand","getSelector","watchBrandId","length","$msg","showMessage","msg","getOrderDetail","orderInfo","JSON","stringify","shopInfo","navigateTo","qrR","qrcodeDone","$refs","qrcode","_makeCode","scanClickHandle","e","scanCode","success","code","result","showLoading","findOrderByCode","hideLoading","orderQrCodeScene","toOrderPepair","takeWatch","content","customerPhone","watchBodyNo","showModal","title","confirm","takeWatchRequest","apiPost","sendSocketMsg","customerId","acceptAppointment","refuseAppointment","cancelAppointment","completeRepair","shopName","path","submitRatingHandle","notifyShopId","notifyCustomerId","sendData"],"mappings":"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","file":"pages/order/order-info/order-info.js","sourcesContent":["import 'uni-pages';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/order-info/order-info.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./order-info.vue?vue&type=template&id=db9e70d4&\"\nimport script from \"./order-info.vue?vue&type=script&lang=js&\"\nexport * from \"./order-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-info.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\0二上\\\\html\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('db9e70d4', component.options)\n    } else {\n      api.reload('db9e70d4', component.options)\n    }\n    module.hot.accept(\"./order-info.vue?vue&type=template&id=db9e70d4&\", function () {\n      api.rerender('db9e70d4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"爱普京/期末项目/前端代码/6/全部/watchapp/8.2/watch-app8.2/pages/order/order-info/order-info.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-info.vue?vue&type=template&id=db9e70d4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-info.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniSteps from '@/components/uni-steps/uni-steps.vue';\n\timport imageText from \"@/components/image-text/image-text.vue\";\n\timport tkiQrcode from '@/components/tki-qrcode/tki-qrcode.vue';\n\texport default {\n\t\tcomponents: {\n\t\t\tuniSteps,\n\t\t\timageText,\n\t\t\ttkiQrcode\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshop: {\n\t\t\t\t\tid: 0,\n\t\t\t\t\tname: '钟表维修店',\n\t\t\t\t\tlocationText: '未知',\n\t\t\t\t},\n\t\t\t\torder: {\n\t\t\t\t\torderId: 1,\n\t\t\t\t\torderNo: '订单号',\n\t\t\t\t\torderStep: 0,\n\n\t\t\t\t},\n\t\t\t\torderStepText: '请联系店员',\n\t\t\t\ttimelines: [],\n\t\t\t\tshowCtrl: {\n\t\t\t\t\tdefault: true,\n\t\t\t\t\tappointment: false,\n\t\t\t\t\torderDetail: true,\n\t\t\t\t\torderStep: true,\n\t\t\t\t\tappointmentAccept: false,\n\t\t\t\t\tappointmentCancel: false,\n\t\t\t\t\tappointmentDispose:false,\n\t\t\t\t\torderQR: false,\n\t\t\t\t\trepairComplete:false,\n\t\t\t\t\tnavigateHome:false,\n\t\t\t\t\tscanCodeTakeWatch:false,\n\t\t\t\t\tsubmitRating: false\n\t\t\t\t},\n\t\t\t\ttimelinesData: [{\n\t\t\t\t\t\"orderStepText\": \"接受预约\",\n\t\t\t\t\t\"createDate\": \"2020-01-10 16:40:22\"\n\t\t\t\t}, {\n\t\t\t\t\t\"orderStepText\": \"预约\",\n\t\t\t\t\t\"createDate\": \"2019-11-28 10:46:23\"\n\t\t\t\t}],\n\t\t\t\tQR: {\n\t\t\t\t\tdefaultVal: '没有二维码', // 要生成的二维码值\n\t\t\t\t\tsize: 120, // 二维码大小\n\t\t\t\t\tunit: 'rpx', // 单位\n\t\t\t\t\tbackground: '#ffffff', // 背景色\n\t\t\t\t\tforeground: '#000000', // 前景色\n\t\t\t\t\tpdground: '#000000', // 角标色\n\t\t\t\t\ticon: '', // 二维码图标\n\t\t\t\t\ticonsize: 40, // 二维码图标大小\n\t\t\t\t\tlv: 3, // 二维码容错级别 ， 一般不用设置，默认就行\n\t\t\t\t\tonval: true, // val值变化时自动重新生成二维码\n\t\t\t\t\tloadMake: true, // 组件加载完成后自动生成二维码\n\t\t\t\t\tsrc: '' ,// 二维码生成后的图片地址或base64\n\t\t\t\t}\n\t\t\t\t// disabled:false,\n\t\t\t\t// ifShow: true,\n\t\t\t\t// masterPhone: '',\n\t\t\t}\n\t\t},\n\t\tonLoad(param) {\n\t\t\tconsole.log('param', param)\n\t\t\tthis.order.orderNo = param.orderNo;\n\t\t\tthis.order.id = param.orderId;\n\t\t\tthis.order.orderStep = param.orderStep;\n\t\t\tthis.shop.id = param.shopId;\n\t\t\tthis.initPageData();\n\t\t},\n\t\tonShow() {\n\t\t\tthis.initPageData();\n\t\t\tthis.$websocket.addHandle(\"orderinfo\",this.orderSocketHandle)\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.initPageData();\n\t\t\tsetTimeout(function() {\n\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t}, 1000)\n\t\t},\n\t\tmethods: {\n\t\t\t// 初始化页面数据\n\t\t\tinitPageData() {\n\t\t\t\tconsole.log('initPageData')\n\t\t\t\tvar that = this;\n\t\t\t\tthat.loadShopData();\n\t\t\t\tthat.$login.checkTokenValidity()\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthat.loadOrderInfo();\n\t\t\t\t\t\tthat.loadOrderSteps();\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t// 初始化页面可展示的元素\n\t\t\tinitPageShow() {\n\t\t\t\tconsole.log('initPageShow')\n\t\t\t\tthis.hideActionBtn();\n\t\t\t\tvar isMaster = this.$userInfo.isMasterOrShopOwner();\n\t\t\t\tvar order = this.order;\n\t\t\t\tvar showCtrl = this.showCtrl;\n\t\t\t\tif (isMaster & order.orderStep <= 2) {\n\t\t\t\t\tthis.showAppointmentForm()\n\t\t\t\t} else {\n\t\t\t\t\tthis.showDefaultForm()\n\t\t\t\t} \n\t\t\t\tif (isMaster && order.orderStep == 6) {\n\t\t\t\t\tshowCtrl.repairComplete = true;\n\t\t\t\t}\n\t\t\t\tif (isMaster && order.orderStep == 7) {\n\t\t\t\t\tshowCtrl.scanCodeTakeWatch = true;\n\t\t\t\t}\n\t\t\t\tif (!isMaster && order.orderStep == 8) {\n\t\t\t\t\tshowCtrl.submitRating = true;\n\t\t\t\t}\n\t\t\t\tthis.showCtrl = showCtrl;\n\t\t\t\t// this.showAppointmentForm()\n\t\t\t},\n\t\t\t// 初始化默认表单的展示\n\t\t\tshowDefaultForm () {\n\t\t\t\tconsole.log('showDefaultForm')\n\t\t\t\tvar showCtrl = this.showCtrl;\n\t\t\t\tvar isMaster = this.$userInfo.isMasterOrShopOwner();\n\t\t\t\tvar order = this.order;\n\t\t\t\tshowCtrl.default = true;\n\t\t\t\tshowCtrl.appointment = false;\n\t\t\t\tshowCtrl.appointmentAccept = false;\n\t\t\t\tshowCtrl.appointmentCancel = false;\n\t\t\t\tshowCtrl.appointmentDispose = false;\n\t\t\t\tif (!isMaster & order.orderStep <= 2) {\n\t\t\t\t\tshowCtrl.appointmentCancel = true;\n\t\t\t\t}\n\t\t\t\tif (!isMaster & (order.orderStep == 7 || order.orderStep == 2)) {\n\t\t\t\t\tshowCtrl.orderQR = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\t// 初始化预约表单的展示\n\t\t\tshowAppointmentForm () {\n\t\t\t\tconsole.log('showAppointmentForm...')\n\t\t\t\tvar showCtrl = this.showCtrl;\n\t\t\t\tvar isMaster = this.$userInfo.isMasterOrShopOwner();\n\t\t\t\tvar order = this.order;\n\t\t\t\tshowCtrl.default = false;\n\t\t\t\tshowCtrl.appointment = true;\n\t\t\t\tshowCtrl.appointmentAccept = false;\n\t\t\t\tshowCtrl.appointmentCancel = false;\n\t\t\t\tshowCtrl.appointmentDispose = false;\t\n\t\t\t\tif (isMaster & order.orderStep == 1) {\n\t\t\t\t\tshowCtrl.appointmentAccept = true;\t\n\t\t\t\t}\n\t\t\t\tif (isMaster & order.orderStep == 2) {\n\t\t\t\t\tshowCtrl.appointmentDispose = true;\t\n\t\t\t\t}\n\t\t\t\tshowCtrl.appointmentCancel = false;\n\t\t\t\tthis.showCtrl = showCtrl;\n\t\t\t},\n\t\t\t// 隐藏可操作的按钮\n\t\t\thideActionBtn(){\n\t\t\t\tvar showCtrl = this.showCtrl;\n\t\t\t\tshowCtrl.appointmentAccept = false;\n\t\t\t\tshowCtrl.appointmentCancel = false;\n\t\t\t\tshowCtrl.appointmentDispose = false;\n\t\t\t\tshowCtrl.repairComplete = false;\n\t\t\t\tshowCtrl.navigateHome = false;\n\t\t\t\tshowCtrl.orderQR = false;\n\t\t\t\tshowCtrl.scanCodeTakeWatch = false;\n\t\t\t\tthis.showCtrl = showCtrl;\n\t\t\t},\n\t\t\tloadShopData(shopId) {\n\t\t\t\tconsole.log('loadShopData')\n\t\t\t\tvar that = this;\n\t\t\t\t// boolean\n\t\t\t\tshopId = shopId || that.shop.id;\n\t\t\t\tthat.$api.get({\n\t\t\t\t\t\turl: `/open/shop/${shopId}`\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tconsole.log('成功', res)\n\t\t\t\t\t\tthat.shop = res.data.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\tconsole.log('失败')\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t// 初始化订单信息\n\t\t\tloadOrderInfo(orderId) {\n\t\t\t\tconsole.log('loadOrderInfo')\n\t\t\t\tvar that = this;\n\t\t\t\torderId = orderId || that.order.id;\n\t\t\t\tthis.$api.apiGet({\n\t\t\t\t\t\turl: `/api/order/${orderId}`,\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t// that.$msg.showMessage(\"请求ok！\", res)\n\t\t\t\t\t\tconsole.log('请求ok！', res,that.$dict.getValue('order_status',res.data.data.orderStep))\n\t\t\t\t\t\tres.data.data.watchBrand = that.$dict.getSelector('brand_select',res.data.data.watchBrandId);\n\t\t\t\t\t\tthat.order = res.data.data;\n\t\t\t\t\t\tthat.orderStepText = that.$dict.getValue('order_status',res.data.data.orderStep);\n\t\t\t\t\t\t// 成功加载订单数据后，根据最新数据初始化页面显示\n\t\t\t\t\t\tthat.initPageShow();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\t// that.$msg.showMessage(res.data.msg || \"请求失败！\")\n\t\t\t\t\t\tthat.showCtrl.orderDetail = false;\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t// 初始化订单进度\n\t\t\tloadOrderSteps(orderId) {\n\t\t\t\tconsole.log('loadOrderSteps')\n\t\t\t\tvar that = this;\n\t\t\t\torderId = orderId || that.order.id;\n\t\t\t\tthis.$api.apiGet({\n\t\t\t\t\t\turl: `/api/order/${orderId}/steps`,\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tconsole.log('steps请求ok！', res)\n\t\t\t\t\t\tif (!res.data.data || res.data.data.length == 0) {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// that.orderStepText = res.data.data[0].orderStepText;\n\t\t\t\t\t\tthat.timelines = res.data.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(res.data.msg || \"请求失败！\")\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t// 查看订单详情表单\n\t\t\tgetOrderDetail() {\n\t\t\t\tconsole.log('getOrderDetail')\n\t\t\t\tvar that = this;\n\t\t\t\tlet order = this.order;\n\t\t\t\tlet orderInfo = JSON.stringify(order);\n\t\t\t\tlet shopInfo = JSON.stringify(this.shop);\n\t\t\t\tthat.$login.checkTokenValidity()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: `../order-detail-info/order-detail-info?order=${orderInfo}&shop=${shopInfo}`\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(res.data.msg || \"暂时不能为你打开详情\")\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t// 二维码回调事件\n\t\t\tqrR:function(res) {\n\t\t\t\tvar QR = this.QR;\n\t\t\t\tQR.src = res;\n\t\t\t\tthis.QR = QR;\n\t\t\t},\n\t\t\t// 二维码回调事件\n\t\t\tqrcodeDone(){\n\t\t\t\tthis.$refs.qrcode._makeCode()\n\t\t\t},\n\t\t\t// 扫码事件\n\t\t\tscanClickHandle(e) {\n\t\t\t\tconsole.log('scanClickHandle...')\n\t\t\t\tlet that = this;\n\t\t\t\tvar isMaster = this.$userInfo.isMasterOrShopOwner();\n\t\t\t\tif (!isMaster) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\t// 允许从相机和相册扫码\n\t\t\t\tuni.scanCode({\n\t\t\t\t\tsuccess (res) {\n\t\t\t\t\t\t// console.log('条码类型：' + res.scanType);\n\t\t\t\t\t\t// console.log('条码内容：' + res.result);\n\t\t\t\t\t\tvar code = res.result;\n\t\t\t\t\t\tthat.$msg.showLoading(\"正在查询订单...\")\n\t\t\t\t\t\tthat.findOrderByCode(code);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 扫码事件-获取相关订单\n\t\t\tfindOrderByCode(code) {\n\t\t\t\tlet that = this;\n\t\t\t\tthat.$login.checkTokenValidity().then((res) => {\n\t\t\t\t\tthat.$api.apiGet({\n\t\t\t\t\t\turl: `/api/order/code/${code}`,\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\t// that.$msg.showMessage(\"请求ok！\", res)\n\t\t\t\t\t\tconsole.log('findOrderByCode请求ok！', res)\n\t\t\t\t\t\tthat.$msg.hideLoading();\n\t\t\t\t\t\tlet order = res.data.data;\n\t\t\t\t\t\t if (1 == order.orderQrCodeScene && 2 == order.orderStep) {\n\t\t\t\t\t\t\tthat.toOrderPepair(res.data.data); \n\t\t\t\t\t\t } else if (2 == order.orderQrCodeScene && 7 == order.orderStep) {\n\t\t\t\t\t\t\t that.takeWatch(order);\n\t\t\t\t\t\t }\n\t\t\t\t\t}).catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(\"请求失败！\" + res.data.msg)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 扫码事件-确认取表逻辑\n\t\t\ttakeWatch(order){\n\t\t\t\tconsole.log('takeWatch....', order)\n\t\t\t\tif (!order) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\t// let orderNo = order.orderNo;\n\t\t\t\t// let watchBodyNo = order.watchBodyNo;\n\t\t\t\t// let customerPhone = order.customerPhone;\n\t\t\t\tlet content = `订单编号：${order.orderNo}`;\n\t\t\t\tif (order.customerPhone) {\n\t\t\t\t\tcontent += `\\n客户手机：${order.customerPhone}`;\n\t\t\t\t}\n\t\t\t\tif (order.watchBodyNo) {\n\t\t\t\t\tcontent += `\\n表身号：${order.watchBodyNo}`;\n\t\t\t\t}\n\t\t\t\tvar that = this;\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认取表?',\n\t\t\t\t\tcontent,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif (!res.confirm) {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.takeWatchRequest(order.id);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 扫码事件-确认取表请求\n\t\t\ttakeWatchRequest (orderId) {\n\t\t\t\tvar that = this;\n\t\t\t\tthat.$msg.showLoading();\n\t\t\t\tthat.$login.checkTokenValidity().then((res) => {\n\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\turl: `/api/order/${orderId}/takeWacth`,\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\t// that.$msg.showMessage(\"请求ok！\", res)\n\t\t\t\t\t\tconsole.log('takeWatchRequest请求ok！', res)\n\t\t\t\t\t\tthat.$msg.hideLoading();\n\t\t\t\t\t\tthat.initPageData();\n\t\t\t\t\t\tthat.sendSocketMsg(order.id,order.orderStep,0,order.customerId);\n\t\t\t\t\t}).catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(\"请求失败！\" + res.data.msg)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 扫码事件-跳转接修页面\n\t\t\ttoOrderPepair(order){\n\t\t\t\torder = JSON.stringify(order);\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/order/order-repair/order-repair?order=${order}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 接受预约\n\t\t\tacceptAppointment (e){\n\t\t\t\tconsole.log('acceptAppointment...')\n\t\t\t\tvar orderId = this.order.id;\n\t\t\t\tvar that = this;\n\t\t\t\tthat.$login.checkTokenValidity().then((res) => {\n\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\turl: `/api/order/${orderId}/appointment/accept`,\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tconsole.log('acceptAppointment请求ok！', res)\n\t\t\t\t\t\tthat.$msg.hideLoading(); \n\t\t\t\t\t\tthat.hideActionBtn();\n\t\t\t\t\t\tthat.initPageData();\n\t\t\t\t\t\tthat.sendSocketMsg(order.id,order.orderStep,0,order.customerId);\n\t\t\t\t\t}).catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(\"请求失败！\" + res.data.msg)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 拒绝预约\n\t\t\trefuseAppointment (e){\n\t\t\t\tvar orderId = this.order.id;\n\t\t\t\tvar that = this;\n\t\t\t\tthat.$login.checkTokenValidity().then((res) => {\n\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\turl: `/api/order/${orderId}/appointment/refuse`,\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tconsole.log('refuseAppointment请求ok！', res)\n\t\t\t\t\t\tthat.$msg.hideLoading(); \n\t\t\t\t\t\tthat.hideActionBtn();\n\t\t\t\t\t\tthat.initPageData();\n\t\t\t\t\t\tthat.sendSocketMsg(order.id,order.orderStep,0,order.customerId);\n\t\t\t\t\t}).catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(\"请求失败！\" + res.data.msg)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 取消预约\n\t\t\tcancelAppointment (e){\n\t\t\t\tvar orderId = this.order.id;\n\t\t\t\tvar that = this;\n\t\t\t\tthat.$login.checkTokenValidity().then((res) => {\n\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\turl: `/api/order/${orderId}/appointment/cancel`,\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tconsole.log('cancelAppointment请求ok！', res)\n\t\t\t\t\t\tthat.$msg.hideLoading(); \n\t\t\t\t\t\tthat.hideActionBtn();\n\t\t\t\t\t\tthat.initPageData();\n\t\t\t\t\t\tthat.sendSocketMsg(order.id,order.orderStep,order.shopId,order.customerId);\n\t\t\t\t\t}).catch((res) => {\n\t\t\t\t\t\tthat.$msg.showMessage(\"请求失败！\" + res.data.msg)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 维修完成\n\t\t\tcompleteRepair (e){\n\t\t\t\tconsole.log('completeRepair...', e)\n\t\t\t\tlet shopName = this.shop.name;\n\t\t\t\tlet locationText = this.shop.locationText;\n\t\t\t\tlet orderId = this.order.id;\n\t\t\t\tvar path = '/pages/order/order-complete/order-complete';\n\t\t\t\tpath += `?orderId=${orderId}&shopName=${shopName}&locationText=${locationText}`;\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '是否维修完成？',\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: path\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t},\n\t\t\tsubmitRatingHandle() {\n\t\t\t\t\tlet shopId = this.shop.id\n\t\t\t\t\tlet orderId = this.order.id\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: `/pages/order/order-rating/order-rating?shopId=${shopId}&orderId=${orderId}`\n\t\t\t\t\t})\n\t\t\t},\n\t\t\tsendSocketMsg(orderId,orderStep,notifyShopId,notifyCustomerId){\n\t\t\t\t\t\t\tconsole.log('sendSocketMsg')\n\t\t\t\t\t\t\tif (!notifyShopId && !notifyCustomerId) {\n\t\t\t\t\t\t\t\tconsole.log('sendSocketMsg... parameter miss...')\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\torderId:orderId,\n\t\t\t\t\t\t\t\torderStep:orderStep,\n\t\t\t\t\t\t\t\tnotifyShopId:notifyShopId,\n\t\t\t\t\t\t\t\tnotifyCustomerId: notifyCustomerId\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar isMaster = this.$userInfo.isMasterOrShopOwner();\n\t\t\t\t\t\t\tif (notifyShopId && !isMaster) {\n\t\t\t\t\t\t\t\tdelete data.notifyCustomerId;\n\t\t\t\t\t\t\t} else if (notifyCustomerId && isMaster) {\n\t\t\t\t\t\t\t\tdelete data.notifyShopId;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.$websocket.sendData(data)\n\t\t\t\t\t\t},\n\t\t\t\t\t\torderSocketHandle(res){\n\t\t\t\t\t\t\t\tconsole.log('orderSocketHandle')\n\t\t\t\t\t\t\t\tthis.initPageData()\n\t\t\t\t\t\t}\n\t\t\t/* initPageData() {\n\t\t\t\tconsole.log('getOrderDetail')\n\t\t\t},\n\t\t\tloadShopData(shopId) {\n\t\t\t\tconsole.log('getOrderDetail')\n\t\t\t},\n\t\t\tloadOrderInfo(orderId) {\n\t\t\t\tconsole.log('getOrderDetail')\n\t\t\t},\n\t\t\tloadOrderSteps(orderId) {\n\t\t\t\tconsole.log('getOrderDetail')\n\t\t\t},\n\t\t\tgetOrderDetail() {\n\t\t\t\tconsole.log('getOrderDetail')\n\t\t\t}, */\n\t\t}\n\t}\n","import mod from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-info.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../../0二上/html/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-info.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}